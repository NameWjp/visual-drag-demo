(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03bd2298"],{"0b85":function(t,e,n){"use strict";n("de70")},"1ba1":function(t,e,n){},"20d4":function(t,e,n){"use strict";n("2448")},2448:function(t,e,n){},"25f0":function(t,e,n){"use strict";var o=n("6eeb"),a=n("825a"),c=n("d039"),r=n("ad6d"),i="toString",l=RegExp.prototype,u=l[i],s=c((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),h=u.name!=i;(s||h)&&o(RegExp.prototype,i,(function(){var t=a(this),e=String(t.source),n=t.flags,o=String(void 0===n&&t instanceof RegExp&&!("flags"in l)?r.call(t):n);return"/"+e+"/"+o}),{unsafe:!0})},"33d8":function(t,e,n){},"35de":function(t,e,n){"use strict";n("43606")},3935:function(t,e,n){"use strict";n("33d8")},43606:function(t,e,n){},5137:function(t,e,n){"use strict";n("6e5c")},"577f":function(t,e,n){"use strict";n("e14e")},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var o=n("1d80"),a=n("5899"),c="["+a+"]",r=RegExp("^"+c+c+"*"),i=RegExp(c+c+"*$"),l=function(t){return function(e){var n=String(o(e));return 1&t&&(n=n.replace(r,"")),2&t&&(n=n.replace(i,"")),n}};t.exports={start:l(1),end:l(2),trim:l(3)}},"667c":function(t,e,n){},"6d1b":function(t,e,n){"use strict";n("f7c3")},"6e5c":function(t,e,n){},7156:function(t,e,n){var o=n("861d"),a=n("d2bb");t.exports=function(t,e,n){var c,r;return a&&"function"==typeof(c=e.constructor)&&c!==n&&o(r=c.prototype)&&r!==n.prototype&&a(t,r),t}},"96cf":function(t,e,n){var o=function(t){"use strict";var e,n=Object.prototype,o=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",r=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch($){l=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var a=e&&e.prototype instanceof m?e:m,c=Object.create(a.prototype),r=new I(o||[]);return c._invoke=S(t,n,r),c}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch($){return{type:"throw",arg:$}}}t.wrap=u;var h="suspendedStart",d="suspendedYield",b="executing",p="completed",f={};function m(){}function v(){}function O(){}var j={};j[c]=function(){return this};var y=Object.getPrototypeOf,g=y&&y(y(E([])));g&&g!==n&&o.call(g,c)&&(j=g);var w=O.prototype=m.prototype=Object.create(j);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(a,c,r,i){var l=s(t[a],t,c);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"===typeof h&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,r,i)}),(function(t){n("throw",t,r,i)})):e.resolve(h).then((function(t){u.value=t,r(u)}),(function(t){return n("throw",t,r,i)}))}i(l.arg)}var a;function c(t,o){function c(){return new e((function(e,a){n(t,o,e,a)}))}return a=a?a.then(c,c):c()}this._invoke=c}function S(t,e,n){var o=h;return function(a,c){if(o===b)throw new Error("Generator is already running");if(o===p){if("throw"===a)throw c;return _()}n.method=a,n.arg=c;while(1){var r=n.delegate;if(r){var i=x(r,n);if(i){if(i===f)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=b;var l=s(t,e,n);if("normal"===l.type){if(o=n.done?p:d,l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=p,n.method="throw",n.arg=l.arg)}}}function x(t,n){var o=t.iterator[n.method];if(o===e){if(n.delegate=null,"throw"===n.method){if(t.iterator["return"]&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var a=s(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,f;var c=a.arg;return c?c.done?(n[t.resultName]=c.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,f):c:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function E(t){if(t){var n=t[c];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){while(++a<t.length)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}return{next:_}}function _(){return{value:e,done:!0}}return v.prototype=w.constructor=O,O.constructor=v,v.displayName=l(O,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,l(t,i,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},C(k.prototype),k.prototype[r]=function(){return this},t.AsyncIterator=k,t.async=function(e,n,o,a,c){void 0===c&&(c=Promise);var r=new k(u(e,n,o,a),c);return t.isGeneratorFunction(n)?r:r.next().then((function(t){return t.done?t.value:r.next()}))},C(w),l(w,i,"Generator"),w[c]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var o=e.pop();if(o in t)return n.value=o,n.done=!1,n}return n.done=!0,n}},t.values=E,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return i.type="throw",i.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var c=this.tryEntries.length-1;c>=0;--c){var r=this.tryEntries[c],i=r.completion;if("root"===r.tryLoc)return a("end");if(r.tryLoc<=this.prev){var l=o.call(r,"catchLoc"),u=o.call(r,"finallyLoc");if(l&&u){if(this.prev<r.catchLoc)return a(r.catchLoc,!0);if(this.prev<r.finallyLoc)return a(r.finallyLoc)}else if(l){if(this.prev<r.catchLoc)return a(r.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return a(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var c=a;break}}c&&("break"===t||"continue"===t)&&c.tryLoc<=e&&e<=c.finallyLoc&&(c=null);var r=c?c.completion:{};return r.type=t,r.arg=e,c?(this.method="next",this.next=c.finallyLoc,f):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var a=o.arg;L(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:E(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),f}},t}(t.exports);try{regeneratorRuntime=o}catch(a){Function("r","regeneratorRuntime = r")(o)}},a5f0:function(t,e,n){"use strict";n("f4f4")},a9dd:function(t,e,n){"use strict";n("f3e4")},a9e3:function(t,e,n){"use strict";var o=n("83ab"),a=n("da84"),c=n("94ca"),r=n("6eeb"),i=n("5135"),l=n("c6b6"),u=n("7156"),s=n("c04e"),h=n("d039"),d=n("7c73"),b=n("241c").f,p=n("06cf").f,f=n("9bf2").f,m=n("58a8").trim,v="Number",O=a[v],j=O.prototype,y=l(d(j))==v,g=function(t){var e,n,o,a,c,r,i,l,u=s(t,!1);if("string"==typeof u&&u.length>2)if(u=m(u),e=u.charCodeAt(0),43===e||45===e){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:o=2,a=49;break;case 79:case 111:o=8,a=55;break;default:return+u}for(c=u.slice(2),r=c.length,i=0;i<r;i++)if(l=c.charCodeAt(i),l<48||l>a)return NaN;return parseInt(c,o)}return+u};if(c(v,!O(" 0o1")||!O("0b1")||O("+0x1"))){for(var w,C=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof C&&(y?h((function(){j.valueOf.call(n)})):l(n)!=v)?u(new O(g(e)),n,C):g(e)},k=o?b(O):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),S=0;k.length>S;S++)i(O,w=k[S])&&!i(C,w)&&f(C,w,p(O,w));C.prototype=j,j.constructor=C,r(a,v,C)}},b019:function(t,e,n){"use strict";n("c582")},bb51:function(t,e,n){"use strict";n.r(e);var o=n("7a23"),a={class:"home"},c={class:"left"},r={class:"center"},i={class:"content"},l={class:"right"},u={key:1,class:"placeholder"},s={key:1,class:"placeholder"},h={key:1,class:"placeholder"};function d(t,e,n,d,b,p){var f=Object(o["O"])("toolbar"),m=Object(o["O"])("component-list"),v=Object(o["O"])("editor"),O=Object(o["O"])("attr-list"),j=Object(o["O"])("el-tab-pane"),y=Object(o["O"])("animation-list"),g=Object(o["O"])("event-list"),w=Object(o["O"])("el-tabs");return Object(o["F"])(),Object(o["k"])("div",a,[Object(o["o"])(f),Object(o["o"])("main",null,[Object(o["o"])("section",c,[Object(o["o"])(m)]),Object(o["o"])("section",r,[Object(o["o"])("div",i,[Object(o["o"])(v)])]),Object(o["o"])("section",l,[Object(o["o"])(w,{type:"card",modelValue:b.activeName,"onUpdate:modelValue":e[1]||(e[1]=function(t){return b.activeName=t})},{default:Object(o["db"])((function(){return[Object(o["o"])(j,{label:"属性",name:"attr"},{default:Object(o["db"])((function(){return[t.curComponent?(Object(o["F"])(),Object(o["k"])(O,{key:0})):(Object(o["F"])(),Object(o["k"])("p",u,"请选择组件"))]})),_:1}),Object(o["o"])(j,{label:"动画",name:"animation"},{default:Object(o["db"])((function(){return[t.curComponent?(Object(o["F"])(),Object(o["k"])(y,{key:0})):(Object(o["F"])(),Object(o["k"])("p",s,"请选择组件"))]})),_:1}),Object(o["o"])(j,{label:"事件",name:"events"},{default:Object(o["db"])((function(){return[t.curComponent?(Object(o["F"])(),Object(o["k"])(g,{key:0})):(Object(o["F"])(),Object(o["k"])("p",h,"请选择组件"))]})),_:1})]})),_:1},8,["modelValue"])])])])}var b=n("5530"),p=(n("159b"),Object(o["hb"])("data-v-8874068c"));Object(o["I"])("data-v-8874068c");var f={class:"toolbar"},m=Object(o["n"])("撤消"),v=Object(o["n"])("恢复"),O=Object(o["o"])("label",{for:"input",class:"el-button el-button--default el-button--small"},"插入图片",-1),j=Object(o["n"])("预览"),y=Object(o["n"])("保存"),g=Object(o["n"])("清空画布"),w=Object(o["n"])("组合"),C=Object(o["n"])(" 拆分 "),k=Object(o["n"])("锁定"),S=Object(o["n"])("解锁"),x={class:"canvas-config"},M=Object(o["o"])("span",null,"画布大小",-1),L=Object(o["o"])("span",null,"*",-1),I={class:"canvas-config"},E=Object(o["o"])("span",null,"画布比例",-1),_=Object(o["n"])(" % ");Object(o["G"])();var $=p((function(t,e,n,a,c,r){var i=Object(o["O"])("el-button"),l=Object(o["O"])("preview");return Object(o["F"])(),Object(o["k"])(o["b"],null,[Object(o["o"])("div",f,[Object(o["o"])(i,{onClick:r.undo},{default:p((function(){return[m]})),_:1},8,["onClick"]),Object(o["o"])(i,{onClick:r.redo},{default:p((function(){return[v]})),_:1},8,["onClick"]),O,Object(o["o"])(i,{onClick:r.preview},{default:p((function(){return[j]})),_:1},8,["onClick"]),Object(o["o"])(i,{onClick:r.save},{default:p((function(){return[y]})),_:1},8,["onClick"]),Object(o["o"])(i,{onClick:r.clearComponents},{default:p((function(){return[g]})),_:1},8,["onClick"]),Object(o["o"])(i,{disabled:!t.areaData.components.length,onClick:r.compose},{default:p((function(){return[w]})),_:1},8,["disabled","onClick"]),Object(o["o"])(i,{disabled:!t.curComponent||t.curComponent.isLock||"group"!==t.curComponent.component,onClick:r.decompose},{default:p((function(){return[C]})),_:1},8,["disabled","onClick"]),Object(o["o"])(i,{onClick:r.lock,disabled:!t.curComponent||t.curComponent.isLock},{default:p((function(){return[k]})),_:1},8,["onClick","disabled"]),Object(o["o"])(i,{onClick:r.unlock,disabled:!t.curComponent||!t.curComponent.isLock},{default:p((function(){return[S]})),_:1},8,["onClick","disabled"]),Object(o["o"])("div",x,[M,Object(o["o"])("input",{value:t.canvasStyle.width,onInput:e[1]||(e[1]=function(t){return r.setCanvasStyle("width",t.target.value)})},null,40,["value"]),L,Object(o["o"])("input",{value:t.canvasStyle.height,onInput:e[2]||(e[2]=function(t){return r.setCanvasStyle("height",t.target.value)})},null,40,["value"])]),Object(o["o"])("div",I,[E,Object(o["o"])("input",{value:t.canvasStyle.scale,onInput:e[3]||(e[3]=function(){return r.handleScaleChange&&r.handleScaleChange.apply(r,arguments)})},null,40,["value"]),_])]),Object(o["o"])("input",{ref:"input",type:"file",onChange:e[4]||(e[4]=function(){return r.handleFileChange&&r.handleFileChange.apply(r,arguments)}),id:"input",hidden:""},null,544),Object(o["o"])(l,{show:c.isShowPreview,"onUpdate:show":e[5]||(e[5]=function(t){return c.isShowPreview=t})},null,8,["show"])],64)})),F=n("2909"),N=n("ade3"),A=(n("a9e3"),n("b64b"),n("caad"),n("2532"),n("5502")),P=n("2332"),D=n("26ee"),V=function(){return D["a"].Date.now()},R=V,U=/\s/;function G(t){var e=t.length;while(e--&&U.test(t.charAt(e)));return e}var T=G,Y=/^\s+/;function z(t){return t?t.slice(0,T(t)+1).replace(Y,""):t}var X=z,B=n("f0ce"),W=n("1147"),q="[object Symbol]";function K(t){return"symbol"==typeof t||Object(W["a"])(t)&&Object(B["a"])(t)==q}var J=K,H=NaN,Q=/^[-+]0x[0-9a-f]+$/i,Z=/^0b[01]+$/i,tt=/^0o[0-7]+$/i,et=parseInt;function nt(t){if("number"==typeof t)return t;if(J(t))return H;if(Object(P["a"])(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Object(P["a"])(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=X(t);var n=Z.test(t);return n||tt.test(t)?et(t.slice(2),n?2:8):Q.test(t)?H:+t}var ot=nt,at="Expected a function",ct=Math.max,rt=Math.min;function it(t,e,n){var o,a,c,r,i,l,u=0,s=!1,h=!1,d=!0;if("function"!=typeof t)throw new TypeError(at);function b(e){var n=o,c=a;return o=a=void 0,u=e,r=t.apply(c,n),r}function p(t){return u=t,i=setTimeout(v,e),s?b(t):r}function f(t){var n=t-l,o=t-u,a=e-n;return h?rt(a,c-o):a}function m(t){var n=t-l,o=t-u;return void 0===l||n>=e||n<0||h&&o>=c}function v(){var t=R();if(m(t))return O(t);i=setTimeout(v,f(t))}function O(t){return i=void 0,d&&o?b(t):(o=a=void 0,r)}function j(){void 0!==i&&clearTimeout(i),u=0,o=l=a=i=void 0}function y(){return void 0===i?r:O(R())}function g(){var t=R(),n=m(t);if(o=arguments,a=this,l=t,n){if(void 0===i)return p(l);if(h)return clearTimeout(i),i=setTimeout(v,e),b(l)}return void 0===i&&(i=setTimeout(v,e)),r}return e=ot(e)||0,Object(P["a"])(n)&&(s=!!n.leading,h="maxWait"in n,c=h?ct(ot(n.maxWait)||0,e):c,d="trailing"in n?!!n.trailing:d),g.cancel=j,g.flush=y,g}var lt=it,ut=n("0147"),st=n("ac24"),ht="canvasData",dt="canvasStyle",bt=n("0861"),pt=Object(o["hb"])("data-v-10a2e735");Object(o["I"])("data-v-10a2e735");var ft={key:0,class:"bg"},mt=Object(o["n"])("关闭"),vt={class:"canvas-container"};Object(o["G"])();var Ot=pt((function(t,e,n,a,c,r){var i=Object(o["O"])("el-button"),l=Object(o["O"])("preview-wrapper");return n.show?(Object(o["F"])(),Object(o["k"])("div",ft,[Object(o["o"])(i,{onClick:r.close,class:"close"},{default:pt((function(){return[mt]})),_:1},8,["onClick"]),Object(o["o"])("div",vt,[Object(o["o"])("div",{class:"canvas",style:{width:"".concat(r.changeStyleWithScale(t.canvasStyle.scale,t.canvasStyle.width),"px"),height:"".concat(r.changeStyleWithScale(t.canvasStyle.scale,t.canvasStyle.height),"px")}},[(Object(o["F"])(!0),Object(o["k"])(o["b"],null,Object(o["M"])(t.componentList,(function(t){return Object(o["F"])(),Object(o["k"])(l,{key:t.id,element:t},{default:pt((function(){return[(Object(o["F"])(),Object(o["k"])(Object(o["Q"])(t.component),{class:"component",propValue:t.propValue,element:t,style:r.getStyle(t.style)},null,8,["propValue","element","style"]))]})),_:2},1032,["element"])})),128))],4)])])):Object(o["l"])("",!0)})),jt=n("a2ba"),yt=Object(o["hb"])("data-v-3831e040"),gt=yt((function(t,e,n,a,c,r){return Object(o["F"])(),Object(o["k"])("div",{onClick:e[1]||(e[1]=function(){return r.handleClick&&r.handleClick.apply(r,arguments)})},[Object(o["N"])(t.$slots,"default",{},void 0,!0)])}));n("d3b7");function wt(t,e,n,o,a,c,r){try{var i=t[c](r),l=i.value}catch(u){return void n(u)}i.done?e(l):Promise.resolve(l).then(o,a)}function Ct(t){return function(){var e=this,n=arguments;return new Promise((function(o,a){var c=t.apply(e,n);function r(t){wt(c,o,a,r,i,"next",t)}function i(t){wt(c,o,a,r,i,"throw",t)}r(void 0)}))}}n("96cf");function kt(t,e){return St.apply(this,arguments)}function St(){return St=Ct(regeneratorRuntime.mark((function t(e,n){var o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o=function(t){return new Promise((function(n){e.classList.add("animate__animated","animate__".concat(t.value));var o=function o(){e.removeEventListener("animationend",o),e.removeEventListener("animationcancel",o),e.classList.remove("animate__animated","animate__".concat(t.value)),n()};e.addEventListener("animationend",o),e.addEventListener("animationcancel",o)}))},a=0;case 2:if(!(a<n.length)){t.next=8;break}return t.next=5,o(n[a]);case 5:a++,t.next=2;break;case 8:case"end":return t.stop()}}),t)}))),St.apply(this,arguments)}n("25f0");var xt={redirect:function(t){t&&(window.location.href=t)},alert:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){t&&alert(t)}))},Mt={methods:xt},Lt=[{key:"redirect",label:"跳转事件",event:xt.redirect,param:""},{key:"alert",label:"alert 事件",event:xt.alert,param:""}],It={mixins:[Mt],props:{element:{require:!0,type:Object}},mounted:function(){kt(this.$el,this.element.animations)},methods:{handleClick:function(){var t=this,e=this.element.events;Object.keys(e).forEach((function(n){t[n](e[n])}))}},components:{}};It.render=gt,It.__scopeId="data-v-3831e040";var Et=It,_t=n("a7f7"),$t={emits:["update:show"],props:{show:{type:Boolean,default:!1}},computed:Object(b["a"])(Object(b["a"])({},Object(A["c"])("component",["componentList"])),Object(A["c"])("canvas",["canvasStyle"])),methods:{getStyle:_t["b"],changeStyleWithScale:jt["c"],close:function(){this.$emit("update:show",!1),this.$store.commit("canvas/setCanvasMode","edit")}},components:{PreviewWrapper:Et}};n("3935");$t.render=Ot,$t.__scopeId="data-v-10a2e735";var Ft=$t,Nt=["top","left","width","height","fontSize","borderWidth"],At={data:function(){return{isShowPreview:!1}},computed:Object(b["a"])(Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(A["c"])("canvas",["canvasStyle"])),Object(A["c"])("component",["componentList"])),Object(A["c"])("compose",["areaData"])),Object(A["b"])("component",["curComponent"])),created:function(){bt["a"].on("save",this.save),bt["a"].on("preview",this.preview)},methods:{preview:function(){this.isShowPreview=!0,this.$store.commit("canvas/setCanvasMode","preview")},undo:function(){this.$store.dispatch("snapshot/undo")},redo:function(){this.$store.dispatch("snapshot/redo")},compose:function(){this.$store.dispatch("compose/compose"),this.$store.commit("component/setCurComponentIndex",this.componentList.length-1),this.$store.dispatch("snapshot/recordSnapshot")},decompose:function(){this.$store.dispatch("compose/decompose"),this.$store.commit("component/setCurComponentIndex",null),this.$store.dispatch("snapshot/recordSnapshot")},clearComponents:function(){this.$store.dispatch("component/clearComponents"),this.$store.dispatch("snapshot/recordSnapshot")},save:function(){localStorage.setItem(ht,JSON.stringify(this.componentList)),localStorage.setItem(dt,JSON.stringify(this.canvasStyle)),this.$message.success("保存成功")},setCanvasStyle:function(t,e){this.$store.commit("canvas/setCanvasStyle",Object(b["a"])(Object(b["a"])({},this.canvasStyle),{},Object(N["a"])({},t,Number(e))))},format:function(t,e){return t*(e/100)},getOriginStyle:function(t){var e=this.canvasStyle.scale;return t/(e/100)},handleScaleChange:lt((function(t){var e=this,n=parseInt(t.target.value,10)||1,o=Object(F["a"])(this.componentList);o.forEach((function(t){Object.keys(t.style).forEach((function(o){Nt.includes(o)&&(t.style[o]=Math.ceil(e.format(e.getOriginStyle(t.style[o]),n)))}))})),this.setCanvasStyle("scale",n),this.$store.commit("component/setComponentList",o)}),1e3),handleFileChange:function(t){var e=this,n=t.target.files[0];if(n.type.includes("image")){var o=new FileReader;o.onload=function(t){var n=t.target.result,o=new Image;o.onload=function(){e.$store.commit("component/addComponent",{component:Object(b["a"])(Object(b["a"])({},ut["a"]),{},{id:Object(st["a"])(),component:"picture",label:"图片",propValue:n,style:Object(b["a"])(Object(b["a"])({},ut["b"]),{},{left:0,top:0,borderRadius:"",width:o.width,height:o.height})})}),e.$store.dispatch("snapshot/recordSnapshot"),e.$refs.input.setAttribute("type","text"),e.$refs.input.setAttribute("type","file")},o.src=n},o.readAsDataURL(n)}else this.$message.error("只能插入图片")},lock:function(){this.$store.dispatch("lock/lock"),this.$store.dispatch("snapshot/recordSnapshot")},unlock:function(){this.$store.dispatch("lock/unlock"),this.$store.dispatch("snapshot/recordSnapshot")}},components:{Preview:Ft}};n("a5f0");At.render=$,At.__scopeId="data-v-8874068c";var Pt=At,Dt=Object(o["hb"])("data-v-97c9fce4");Object(o["I"])("data-v-97c9fce4");var Vt={class:"component-list"},Rt={class:"text"};Object(o["G"])();var Ut=Dt((function(t,e,n,a,c,r){var i=Object(o["O"])("svg-icon");return Object(o["F"])(),Object(o["k"])("div",Vt,[(Object(o["F"])(!0),Object(o["k"])(o["b"],null,Object(o["M"])(c.componentList,(function(t,n){return Object(o["F"])(),Object(o["k"])("div",{key:n,"data-index":n,class:"item",draggable:"true",onDragstart:e[1]||(e[1]=function(){return r.handleDragStart&&r.handleDragStart.apply(r,arguments)})},[Object(o["o"])(i,{class:["icon",t.icon],iconClass:t.icon},null,8,["class","iconClass"]),Object(o["o"])("span",Rt,Object(o["S"])(t.label),1)],40,["data-index"])})),128))])})),Gt={data:function(){return{componentList:ut["c"]}},created:function(){var t=this;window.ondragend=function(){t.$store.commit("drag/setDragElement",null)}},methods:{handleDragStart:function(t){this.$store.commit("drag/setDragElement",t.target)}},components:{}};n("a9dd");Gt.render=Ut,Gt.__scopeId="data-v-97c9fce4";var Tt=Gt,Yt=Object(o["hb"])("data-v-e660b600"),zt=Yt((function(t,e,n,a,c,r){var i=Object(o["O"])("grid"),l=Object(o["O"])("shape"),u=Object(o["O"])("mark-line"),s=Object(o["O"])("rect-area"),h=Object(o["O"])("context-menu");return Object(o["F"])(),Object(o["k"])("div",{onMousedown:e[1]||(e[1]=function(){return r.handleMouseDown&&r.handleMouseDown.apply(r,arguments)}),onDragover:e[2]||(e[2]=function(){return r.handleDragover&&r.handleDragover.apply(r,arguments)}),onDrop:e[3]||(e[3]=Object(o["gb"])((function(){return r.handleDrop&&r.handleDrop.apply(r,arguments)}),["prevent"])),onContextmenu:e[4]||(e[4]=Object(o["gb"])((function(){return r.handleContextMenu&&r.handleContextMenu.apply(r,arguments)}),["prevent","stop"])),ref:"editor",class:"editor",style:{width:"".concat(r.changeStyleWithScale(t.canvasStyle.scale,t.canvasStyle.width),"px"),height:"".concat(r.changeStyleWithScale(t.canvasStyle.scale,t.canvasStyle.height),"px")}},[Object(o["o"])(i),(Object(o["F"])(!0),Object(o["k"])(o["b"],null,Object(o["M"])(t.componentList,(function(t,e){return Object(o["F"])(),Object(o["k"])(l,{key:t.id,style:r.getShapeStyle(t.style),defaultStyle:t.style,index:e,element:t},{default:Yt((function(){return[(Object(o["F"])(),Object(o["k"])(Object(o["Q"])(t.component),{class:"component",propValue:t.propValue,element:t,style:r.getComponentStyle(t.style)},null,8,["propValue","element","style"]))]})),_:2},1032,["style","defaultStyle","index","element"])})),128)),Object(o["o"])(u),Object(o["eb"])(Object(o["o"])(s,{info:c.areaInfo},null,8,["info"]),[[o["ab"],c.isShowArea&&c.areaInfo.width>0&&c.areaInfo.height>0]]),Object(o["eb"])(Object(o["o"])(h,{info:c.menuInfo},null,8,["info"]),[[o["ab"],c.isShowMenuInfo]])],36)})),Xt=(n("4de4"),"Expected a function");function Bt(t,e,n){var o=!0,a=!0;if("function"!=typeof t)throw new TypeError(Xt);return Object(P["a"])(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),lt(t,e,{leading:o,maxWait:e,trailing:a})}var Wt=Bt,qt=n("5c8a"),Kt=Object(o["hb"])("data-v-f9a37fac");Object(o["I"])("data-v-f9a37fac");var Jt={class:"grid",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"},Ht=Object(o["o"])("defs",null,[Object(o["o"])("pattern",{id:"smallGrid",width:"7.2",height:"7.2",patternUnits:"userSpaceOnUse"},[Object(o["o"])("path",{d:"M 7.2 0 L 0 0 L 0 7.2",stroke:"rgba(207, 207, 207, 0.3)","stroke-width":"1",fill:"none"})]),Object(o["o"])("pattern",{id:"grid",width:"36",height:"36",patternUnits:"userSpaceOnUse"},[Object(o["o"])("rect",{width:"36",height:"36",fill:"url(#smallGrid)"}),Object(o["o"])("path",{d:"M 36 0 L 0 0 L 0 36",stroke:"rgba(186, 186, 186, 0.5)","stroke-width":"1",fill:"none"})])],-1),Qt=Object(o["o"])("rect",{width:"100%",height:"100%",fill:"url(#grid)"},null,-1);Object(o["G"])();var Zt=Kt((function(t,e){return Object(o["F"])(),Object(o["k"])("svg",Jt,[Ht,Qt])}));n("b019");const te={};te.render=Zt,te.__scopeId="data-v-f9a37fac";var ee=te,ne=Object(o["hb"])("data-v-7a8e4aa5"),oe=ne((function(t,e,n,a,c,r){var i=Object(o["O"])("svg-icon");return Object(o["F"])(),Object(o["k"])("div",{ref:"shape",class:["shape",{checked:r.isChecked,lock:n.element.isLock}],onMousedown:e[1]||(e[1]=Object(o["gb"])((function(){return r.handleMouseDownOnShape&&r.handleMouseDownOnShape.apply(r,arguments)}),["stop","prevent"]))},[Object(o["eb"])(Object(o["o"])(i,{class:"rotate",iconClass:"rotate",onMousedown:Object(o["gb"])(r.handleRotate,["stop"])},null,8,["onMousedown"]),[[o["ab"],r.active]]),Object(o["eb"])(Object(o["o"])(i,{class:"lock-icon",iconClass:"lock"},null,512),[[o["ab"],n.element.isLock]]),(Object(o["F"])(!0),Object(o["k"])(o["b"],null,Object(o["M"])(r.active?c.pointList:[],(function(t){return Object(o["F"])(),Object(o["k"])("div",{class:"shape-point",key:t,style:r.getPointStyle(t),onMousedown:Object(o["gb"])((function(e){return r.handleMouseDownOnPoint(t,e)}),["stop"])},null,44,["onMousedown"])})),128)),Object(o["N"])(t.$slots,"default",{},void 0,!0)],34)}));function ae(t,e,n){var o=n.symmetricPoint,a=Object(jt["d"])(e,o),c=Object(jt["b"])(e,a,-t.rotate),r=Object(jt["b"])(o,a,-t.rotate),i=r.x-c.x,l=r.y-c.y;i>0&&l>0&&(t.width=Math.round(i),t.height=Math.round(l),t.left=Math.round(c.x),t.top=Math.round(c.y))}function ce(t,e,n){var o=n.symmetricPoint,a=Object(jt["d"])(e,o),c=Object(jt["b"])(e,a,-t.rotate),r=Object(jt["b"])(o,a,-t.rotate),i=c.x-r.x,l=r.y-c.y;i>0&&l>0&&(t.width=Math.round(i),t.height=Math.round(l),t.left=Math.round(r.x),t.top=Math.round(c.y))}function re(t,e,n){var o=n.symmetricPoint,a=Object(jt["d"])(e,o),c=Object(jt["b"])(e,a,-t.rotate),r=Object(jt["b"])(o,a,-t.rotate),i=c.x-r.x,l=c.y-r.y;i>0&&l>0&&(t.width=Math.round(i),t.height=Math.round(l),t.left=Math.round(r.x),t.top=Math.round(r.y))}function ie(t,e,n){var o=n.symmetricPoint,a=Object(jt["d"])(e,o),c=Object(jt["b"])(e,a,-t.rotate),r=Object(jt["b"])(o,a,-t.rotate),i=r.x-c.x,l=c.y-r.y;i>0&&l>0&&(t.width=Math.round(i),t.height=Math.round(l),t.left=Math.round(c.x),t.top=Math.round(r.y))}function le(t,e,n){var o=n.symmetricPoint,a=n.center,c=Object(jt["b"])(e,a,-t.rotate),r={x:a.x,y:c.y},i=Object(jt["b"])(r,a,t.rotate);if(o.y>i.y){var l=Math.sqrt(Math.pow(i.x-o.x,2)+Math.pow(i.y-o.y,2)),u=Object(jt["d"])(i,o);t.height=Math.round(l),t.top=Math.round(u.y-l/2),t.left=Math.round(u.x-t.width/2)}}function ue(t,e,n){var o=n.symmetricPoint,a=n.center,c=Object(jt["b"])(e,a,-t.rotate),r={x:c.x,y:a.y},i=Object(jt["b"])(r,a,t.rotate);if(o.x<i.x){var l=Math.sqrt(Math.pow(i.x-o.x,2)+Math.pow(i.y-o.y,2)),u=Object(jt["d"])(i,o);t.width=Math.round(l),t.top=Math.round(u.y-t.height/2),t.left=Math.round(u.x-l/2)}}function se(t,e,n){var o=n.symmetricPoint,a=n.center,c=Object(jt["b"])(e,a,-t.rotate),r={x:a.x,y:c.y},i=Object(jt["b"])(r,a,t.rotate);if(o.y<i.y){var l=Math.sqrt(Math.pow(i.x-o.x,2)+Math.pow(i.y-o.y,2)),u=Object(jt["d"])(i,o);t.height=Math.round(l),t.top=Math.round(u.y-l/2),t.left=Math.round(u.x-t.width/2)}}function he(t,e,n){var o=n.symmetricPoint,a=n.center,c=Object(jt["b"])(e,a,-t.rotate),r={x:c.x,y:a.y},i=Object(jt["b"])(r,a,t.rotate);if(o.x>i.x){var l=Math.sqrt(Math.pow(i.x-o.x,2)+Math.pow(i.y-o.y,2)),u=Object(jt["d"])(i,o);t.width=Math.round(l),t.top=Math.round(u.y-t.height/2),t.left=Math.round(u.x-l/2)}}var de={lt:ae,t:le,rt:ce,r:ue,rb:re,b:se,lb:ie,l:he};function be(t,e,n,o){de[t](e,n,o)}var pe={props:{index:{require:!0,type:Number},element:{require:!0,type:Object},defaultStyle:{require:!0,type:Object}},data:function(){return{pointList:["lt","t","rt","r","rb","b","lb","l"],initialAngle:{lt:0,t:45,rt:90,r:135,rb:180,b:225,lb:270,l:315},angleToCursor:[{start:337.5,end:22.5,cursor:"nw"},{start:22.5,end:67.5,cursor:"n"},{start:67.5,end:112.5,cursor:"ne"},{start:112.5,end:157.5,cursor:"e"},{start:157.5,end:202.5,cursor:"se"},{start:202.5,end:247.5,cursor:"s"},{start:247.5,end:292.5,cursor:"sw"},{start:292.5,end:337.5,cursor:"w"}],cursors:{}}},computed:Object(b["a"])(Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(A["c"])("component",["curComponentIndex"])),Object(A["c"])("canvas",["canvasEl"])),Object(A["b"])("component",["curComponent"])),{},{isChecked:function(){return this.index===this.curComponentIndex},active:function(){return this.isChecked&&!this.element.isLock}}),mounted:function(){var t=this;this.isChecked&&this.getCursor(),bt["a"].on("runAnimation",(function(){t.element===t.curComponent&&kt(t.$el,t.curComponent.animations)}))},methods:{handleRotate:function(t){var e=this,n=Object(b["a"])({},this.defaultStyle),o=t.clientX,a=t.clientY,c=n.rotate,r=this.$refs.shape.getBoundingClientRect(),i=r.left+r.width/2,l=r.top+r.height/2,u=Object(jt["f"])(Math.atan2(a-l,o-i)),s=!1,h=Wt((function(t){s=!0;var o=t.clientX,a=t.clientY,r=Object(jt["f"])(Math.atan2(a-l,o-i));n.rotate=c+(r-u),e.$store.dispatch("component/setCurComponentStyle",n)}),10),d=function t(){s&&e.$store.dispatch("snapshot/recordSnapshot"),document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",t),e.getCursor()};document.addEventListener("mousemove",h),document.addEventListener("mouseup",d)},handleMouseDownOnShape:function(t){this.selectCurComponent(),bt["a"].emit("hideContextMenu"),this.element.isLock||(this.getCursor(),this.dragCurComponent(t))},selectCurComponent:function(){this.$store.commit("component/setCurComponentIndex",this.index)},getCursor:function(){var t=this.angleToCursor,e=this.initialAngle,n=this.pointList,o=this.curComponent,a=Object(jt["e"])(o.style.rotate),c={},r=-1;n.forEach((function(n){var o=Object(jt["e"])(e[n]+a),i=t.length;while(1){r=(r+1)%i;var l=t[r],u=l.start,s=l.end,h=l.cursor;if(u>s&&(o>=u||o<s))return void(c[n]="".concat(h,"-resize"));if(u<s&&o>=u&&o<s)return void(c[n]="".concat(h,"-resize"))}})),this.cursors=c},dragCurComponent:function(t){var e=this,n=Object(b["a"])({},this.defaultStyle),o=t.clientX,a=t.clientY,c=n.left,r=n.top,i=t.clientX,l=t.clientY,u=!1,s=Wt((function(t){u=!0;var s=t.clientX,h=t.clientY;n.left=s-o+c,n.top=h-a+r,e.$store.dispatch("component/setCurComponentStyle",n),bt["a"].emit("move",h>l,s>i),i=s,l=h}),10),h=function t(){u&&e.$store.dispatch("snapshot/recordSnapshot"),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",t),bt["a"].emit("unmove")};document.addEventListener("mousemove",s),document.addEventListener("mouseup",h)},getPointStyle:function(t){var e=this.defaultStyle,n=e.width,o=e.height,a=/t/.test(t),c=/b/.test(t),r=/l/.test(t),i=/r/.test(t),l=0,u=0;2===t.length?(l=r?0:n,u=a?0:o):((a||c)&&(l=n/2,u=a?0:o),(r||i)&&(l=r?0:n,u=o/2));var s={left:"".concat(l,"px"),top:"".concat(u,"px"),cursor:this.cursors[t]};return s},handleMouseDownOnPoint:function(t,e){var n=this,o=Object(b["a"])({},this.defaultStyle),a={x:o.left+o.width/2,y:o.top+o.height/2},c=this.canvasEl.getBoundingClientRect(),r=e.target.getBoundingClientRect(),i={x:Math.round(r.left-c.left+e.target.offsetWidth/2),y:Math.round(r.top-c.top+e.target.offsetHeight/2)},l={x:2*a.x-i.x,y:2*a.y-i.y},u=!1,s=Wt((function(e){u=!0;var r={x:e.clientX-c.left,y:e.clientY-c.top};be(t,o,r,{center:a,curPoint:i,symmetricPoint:l}),n.$store.dispatch("component/setCurComponentStyle",o)}),10),h=function t(){u&&n.$store.dispatch("snapshot/recordSnapshot"),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",t)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",h)}},components:{}};n("bb5c");pe.render=oe,pe.__scopeId="data-v-7a8e4aa5";var fe=pe,me=Object(o["hb"])("data-v-9c9faa7e");Object(o["I"])("data-v-9c9faa7e");var ve={class:"mark-line"};Object(o["G"])();var Oe=me((function(t,e,n,a,c,r){return Object(o["F"])(),Object(o["k"])("div",ve,[(Object(o["F"])(!0),Object(o["k"])(o["b"],null,Object(o["M"])(c.lines,(function(t){return Object(o["eb"])((Object(o["F"])(),Object(o["k"])("div",{key:t,class:["line",t.includes("x")?"xline":"yline"],ref:t},null,2)),[[o["ab"],c.lineStatus[t]]])})),128))])})),je={data:function(){return{lines:["xt","xc","xb","yl","yc","yr"],diff:4,lineStatus:{xt:!1,xc:!1,xb:!1,yl:!1,yc:!1,yr:!1}}},computed:Object(b["a"])(Object(b["a"])({},Object(A["c"])("component",["componentList"])),Object(A["b"])("component",["curComponent"])),mounted:function(){bt["a"].on("move",this.showLine),bt["a"].on("unmove",this.hideLine)},methods:{showLine:function(t,e){var n=this;this.hideLine();var o=Object(_t["a"])(this.curComponent.style),a=o.width/2,c=o.height/2,r=[];this.componentList.forEach((function(t){if(t!==n.curComponent){var e=Object(_t["a"])(t.style),i=e.top,l=e.right,u=e.bottom,s=e.left,h=e.width/2,d=e.height/2,b={top:[{isNearly:n.isNearly(o.bottom,i),line:"xt",dragShift:i-o.height,lineShift:i},{isNearly:n.isNearly(o.top,i),line:"xt",dragShift:i,lineShift:i},{isNearly:n.isNearly(o.top+c,i+d),line:"xc",dragShift:i+d-c,lineShift:i+d},{isNearly:n.isNearly(o.bottom,u),line:"xb",dragShift:u-o.height,lineShift:u},{isNearly:n.isNearly(o.top,u),line:"xb",dragShift:u,lineShift:u}],left:[{isNearly:n.isNearly(o.right,s),line:"yl",dragShift:s-o.width,lineShift:s},{isNearly:n.isNearly(o.left,s),line:"yl",dragShift:s,lineShift:s},{isNearly:n.isNearly(o.left+a,s+h),line:"yc",dragShift:s+h-a,lineShift:s+h},{isNearly:n.isNearly(o.right,l),line:"yr",dragShift:l-o.width,lineShift:l},{isNearly:n.isNearly(o.left,l),line:"yr",dragShift:l,lineShift:l}]};Object.keys(b).forEach((function(t){b[t].forEach((function(e){e.isNearly&&(n.$store.dispatch("component/setCurComponentStyle",Object(N["a"])({},t,n.translateCurComponentShift(t,e,o))),n.$refs[e.line].style[t]="".concat(e.lineShift,"px"),r.includes(e.line)||r.push(e.line))}))}))}})),r.length&&this.chooseShowLine(r,t,e)},chooseShowLine:function(t,e,n){e?t.includes("xb")?this.lineStatus.xb=!0:t.includes("xc")?this.lineStatus.xc=!0:t.includes("xt")&&(this.lineStatus.xt=!0):t.includes("xt")?this.lineStatus.xt=!0:t.includes("xc")?this.lineStatus.xc=!0:t.includes("xb")&&(this.lineStatus.xb=!0),n?t.includes("yr")?this.lineStatus.yr=!0:t.includes("yc")?this.lineStatus.yc=!0:t.includes("yl")&&(this.lineStatus.yl=!0):t.includes("yl")?this.lineStatus.yl=!0:t.includes("yc")?this.lineStatus.yc=!0:t.includes("yr")&&(this.lineStatus.yr=!0)},hideLine:function(){var t=this;Object.keys(this.lineStatus).forEach((function(e){t.lineStatus[e]=!1}))},isNearly:function(t,e){return Math.abs(t-e)<=this.diff},translateCurComponentShift:function(t,e,n){var o=this.curComponent.style,a=o.width,c=o.height,r=o.rotate;return 0===r?e.dragShift:"top"===t?Math.round(e.dragShift+(n.height-c)/2):"left"===t?Math.round(e.dragShift+(n.width-a)/2):null}},components:{}};n("35de");je.render=Oe,je.__scopeId="data-v-9c9faa7e";var ye=je,ge=Object(o["hb"])("data-v-ff826d08"),we=ge((function(t,e,n,a,c,r){return Object(o["F"])(),Object(o["k"])("div",{style:{left:"".concat(n.info.left,"px"),top:"".concat(n.info.top,"px"),width:"".concat(n.info.width,"px"),height:"".concat(n.info.height,"px")},class:"area"},null,4)})),Ce={props:{info:{type:Object,require:!0}}};n("0b85");Ce.render=we,Ce.__scopeId="data-v-ff826d08";var ke=Ce,Se=Object(o["hb"])("data-v-047bc591"),xe=Se((function(t,e,n,a,c,r){return Object(o["F"])(),Object(o["k"])("div",{class:"contextmenu",style:{left:"".concat(n.info.left,"px"),top:"".concat(n.info.top,"px")}},[Object(o["o"])("ul",{onMousedown:e[12]||(e[12]=Object(o["gb"])((function(){}),["stop"]))},[t.curComponent?(Object(o["F"])(),Object(o["k"])(o["b"],{key:0},[t.curComponent.isLock?(Object(o["F"])(),Object(o["k"])("li",{key:1,onClick:e[10]||(e[10]=function(){return r.unlock&&r.unlock.apply(r,arguments)})},"解锁")):(Object(o["F"])(),Object(o["k"])(o["b"],{key:0},[Object(o["o"])("li",{onClick:e[1]||(e[1]=function(){return r.copy&&r.copy.apply(r,arguments)})},"复制"),Object(o["o"])("li",{onClick:e[2]||(e[2]=function(){return r.paste&&r.paste.apply(r,arguments)})},"粘贴"),Object(o["o"])("li",{onClick:e[3]||(e[3]=function(){return r.cut&&r.cut.apply(r,arguments)})},"剪切"),Object(o["o"])("li",{onClick:e[4]||(e[4]=function(){return r.deleteComponent&&r.deleteComponent.apply(r,arguments)})},"删除"),Object(o["o"])("li",{onClick:e[5]||(e[5]=function(){return r.lock&&r.lock.apply(r,arguments)})},"锁定"),Object(o["o"])("li",{onClick:e[6]||(e[6]=function(){return r.topComponent&&r.topComponent.apply(r,arguments)})},"置顶"),Object(o["o"])("li",{onClick:e[7]||(e[7]=function(){return r.bottomComponent&&r.bottomComponent.apply(r,arguments)})},"置底"),Object(o["o"])("li",{onClick:e[8]||(e[8]=function(){return r.upComponent&&r.upComponent.apply(r,arguments)})},"上移"),Object(o["o"])("li",{onClick:e[9]||(e[9]=function(){return r.downComponent&&r.downComponent.apply(r,arguments)})},"下移")],64))],64)):(Object(o["F"])(),Object(o["k"])("li",{key:1,onClick:e[11]||(e[11]=function(){return r.paste&&r.paste.apply(r,arguments)})},"粘贴"))],32)],4)})),Me={props:{info:{type:Object,require:!0}},computed:Object(b["a"])({},Object(A["b"])("component",["curComponent"])),methods:{copy:function(){this.$store.dispatch("copy/copy"),this.hideContextMenu()},paste:function(){this.$store.dispatch("copy/paste",this.info),this.$store.dispatch("snapshot/recordSnapshot"),this.hideContextMenu()},cut:function(){this.$store.dispatch("copy/cut"),this.$store.dispatch("snapshot/recordSnapshot"),this.hideContextMenu()},deleteComponent:function(){this.$store.dispatch("component/deleteCurComponent"),this.$store.dispatch("snapshot/recordSnapshot"),this.hideContextMenu()},lock:function(){this.$store.dispatch("lock/lock"),this.$store.dispatch("snapshot/recordSnapshot"),this.hideContextMenu()},unlock:function(){this.$store.dispatch("lock/unlock"),this.$store.dispatch("snapshot/recordSnapshot"),this.hideContextMenu()},topComponent:function(){this.$store.dispatch("layer/topComponent"),this.$store.dispatch("snapshot/recordSnapshot"),this.hideContextMenu()},bottomComponent:function(){this.$store.dispatch("layer/bottomComponent"),this.$store.dispatch("snapshot/recordSnapshot"),this.hideContextMenu()},upComponent:function(){this.$store.dispatch("layer/upComponent"),this.$store.dispatch("snapshot/recordSnapshot"),this.hideContextMenu()},downComponent:function(){this.$store.dispatch("layer/downComponent"),this.$store.dispatch("snapshot/recordSnapshot"),this.hideContextMenu()},hideContextMenu:function(){bt["a"].emit("hideContextMenu")}}};n("577f");Me.render=xe,Me.__scopeId="data-v-047bc591";var Le=Me,Ie=["width","height","top","left","rotate"],Ee={data:function(){return{areaInfo:{left:0,top:0,width:0,height:0},isShowArea:!1,menuInfo:{left:0,top:0},isShowMenuInfo:!1}},computed:Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(A["c"])("component",["componentList"])),Object(A["c"])("canvas",["canvasStyle","canvasEl"])),Object(A["c"])("drag",["dragElement"])),mounted:function(){this.$store.commit("canvas/setCanvasEl",this.$refs.editor),bt["a"].on("hideArea",this.hideArea),bt["a"].on("hideContextMenu",this.hideContextMenu)},methods:{changeStyleWithScale:jt["c"],handleContextMenu:function(t){var e=this.canvasEl.getBoundingClientRect(),n=t.clientX-e.x,o=t.clientY-e.y;this.menuInfo={left:n,top:o},this.isShowMenuInfo=!0},hideContextMenu:function(){this.isShowMenuInfo=!1},handleMouseDown:function(t){2!==t.button&&this.hideContextMenu(),this.deselectCurComponent(),this.getSelectRectInfo(t)},deselectCurComponent:function(){this.$store.commit("component/setCurComponentIndex",null)},getSelectRectInfo:function(t){var e=this,n=this.canvasEl.getBoundingClientRect(),o=t.clientX,a=t.clientY,c=o-n.x,r=a-n.y;this.isShowArea=!0;var i=Wt((function(t){var i=t.clientX,l=t.clientY,u=Math.abs(i-o),s=Math.abs(l-a);i<o&&(c=i-n.x),l<a&&(r=l-n.y),e.areaInfo={left:c,top:r,width:u,height:s}}),10,{trailing:!1}),l=function t(n){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",t),n.clientX!==o||n.clientY!==a?e.createGroup():e.hideArea()};document.addEventListener("mousemove",i),document.addEventListener("mouseup",l)},createGroup:function(){var t=this.getSelectArea();if(t.length<=1)this.hideArea();else{var e=1/0,n=1/0,o=-1/0,a=-1/0;t.forEach((function(t){var c=Object(_t["a"])(t.style);c.left<e&&(e=c.left),c.top<n&&(n=c.top),c.right>a&&(a=c.right),c.bottom>o&&(o=c.bottom)}));var c=a-e,r=o-n;this.areaInfo={left:e,top:n,width:c,height:r},this.$store.commit("compose/setAreaData",{style:{left:e,top:n,width:c,height:r},components:t})}},getSelectArea:function(){var t=[],e=this.areaInfo,n=e.left,o=e.top,a=e.width,c=e.height,r=n+a,i=o+c;return this.componentList.forEach((function(e){if(!e.isLock){var a=Object(_t["a"])(e.style),c=a.left,l=a.top,u=a.right,s=a.bottom;c>=n&&l>=o&&u<=r&&s<=i&&t.push(e)}})),t},hideArea:function(){this.isShowArea&&(this.isShowArea=!1,this.areaInfo=Object(b["a"])(Object(b["a"])({},this.areaInfo),{},{width:0,height:0}),this.$store.dispatch("compose/clearAreaData"))},getShapeStyle:function(t){var e=Object.keys(t).filter((function(t){return!Ie.includes(t)}));return Object(_t["b"])(t,e)},getComponentStyle:function(t){return Object(_t["b"])(t,Ie)},handleDragover:function(t){this.dragElement&&t.preventDefault()},handleDrop:function(t){var e=this.canvasEl.getBoundingClientRect(),n=Object(qt["a"])(ut["c"][this.dragElement.dataset.index]);n.style.left=t.clientX-e.x,n.style.top=t.clientY-e.y,n.id=Object(st["a"])(),this.$store.commit("component/addComponent",{component:n}),this.$store.dispatch("snapshot/recordSnapshot")}},components:{Shape:fe,Grid:ee,MarkLine:ye,RectArea:ke,ContextMenu:Le}};n("c119");Ee.render=zt,Ee.__scopeId="data-v-e660b600";var _e=Ee,$e=Object(o["hb"])("data-v-d1e8e5d4");Object(o["I"])("data-v-d1e8e5d4");var Fe={class:"attr-list"};Object(o["G"])();var Ne=$e((function(t,e,n,a,c,r){var i=Object(o["O"])("el-color-picker"),l=Object(o["O"])("el-option"),u=Object(o["O"])("el-select"),s=Object(o["O"])("el-input"),h=Object(o["O"])("el-form-item"),d=Object(o["O"])("el-form");return Object(o["F"])(),Object(o["k"])("div",Fe,[Object(o["o"])(d,{"label-width":"70px"},{default:$e((function(){return[(Object(o["F"])(!0),Object(o["k"])(o["b"],null,Object(o["M"])(r.styleKeys,(function(e){return Object(o["F"])(),Object(o["k"])(h,{key:e,label:c.labelMap[e]},{default:$e((function(){return[c.colorPickerKeys.includes(e)?(Object(o["F"])(),Object(o["k"])(i,{key:0,"model-value":t.curComponent.style[e],"onUpdate:modelValue":function(t){return r.handleChangeStyle(e,t)}},null,8,["model-value","onUpdate:modelValue"])):Object.keys(c.selectKeyMap).includes(e)?(Object(o["F"])(),Object(o["k"])(u,{key:1,"model-value":t.curComponent.style[e],"onUpdate:modelValue":function(t){return r.handleChangeStyle(e,t)},placeholder:"请选择"},{default:$e((function(){return[(Object(o["F"])(!0),Object(o["k"])(o["b"],null,Object(o["M"])(c.selectKeyMap[e],(function(t){return Object(o["F"])(),Object(o["k"])(l,{label:t.label,value:t.value,key:t.value},null,8,["label","value"])})),128))]})),_:2},1032,["model-value","onUpdate:modelValue"])):(Object(o["F"])(),Object(o["k"])(s,{key:2,type:"number","model-value":t.curComponent.style[e],"onUpdate:modelValue":function(t){return r.handleChangeStyle(e,t)}},null,8,["model-value","onUpdate:modelValue"]))]})),_:2},1032,["label"])})),128)),c.showContentComponents.includes(t.curComponent.component)?(Object(o["F"])(),Object(o["k"])(h,{key:0,label:"内容"},{default:$e((function(){return[Object(o["o"])(s,{type:"textarea",autosize:{minRows:3},"model-value":t.curComponent.propValue,"onUpdate:modelValue":r.handleChangeValue},null,8,["model-value","onUpdate:modelValue"])]})),_:1})):Object(o["l"])("",!0)]})),_:1})])})),Ae=["rotate"],Pe={data:function(){return{showContentComponents:["v-text","rect-shape","v-button"],colorPickerKeys:["borderColor","color","backgroundColor"],selectKeyMap:{textAlign:[{label:"左对齐",value:"left"},{label:"居中",value:"center"},{label:"右对齐",value:"right"}],borderStyle:[{label:"实线",value:"solid"},{label:"虚线",value:"dashed"}],verticalAlign:[{label:"上对齐",value:"top"},{label:"居中对齐",value:"middle"},{label:"下对齐",value:"bottom"}]},labelMap:{left:"x 坐标",top:"y 坐标",height:"高",width:"宽",color:"颜色",backgroundColor:"背景色",borderStyle:"边框风格",borderWidth:"边框宽度",borderColor:"边框颜色",borderRadius:"边框半径",fontSize:"字体大小",fontWeight:"字体粗细",lineHeight:"行高",letterSpacing:"字间距",opacity:"透明度",textAlign:"左右对齐",verticalAlign:"上下对齐"}}},computed:Object(b["a"])(Object(b["a"])({},Object(A["b"])("component",["curComponent"])),{},{styleKeys:function(){var t=[];return this.curComponent&&(t=Object.keys(this.curComponent.style).filter((function(t){return!Ae.includes(t)}))),t}}),methods:{handleChangeStyle:function(t,e){this.$store.dispatch("component/setCurComponentStyle",Object(N["a"])({},t,e))},handleChangeValue:function(t){var e=Object(b["a"])({},this.curComponent);e.propValue=t,this.$store.commit("component/changeComponent",{component:this.curComponent,newComponent:e})}},components:{}};n("5137");Pe.render=Ne,Pe.__scopeId="data-v-d1e8e5d4";var De=Pe,Ve=n("8458"),Re=Object(o["hb"])("data-v-78e68ee4");Object(o["I"])("data-v-78e68ee4");var Ue={class:"animation-control"},Ge=Object(o["n"])("添加动画"),Te=Object(o["n"])("预览动画"),Ye={class:"tag-wrap"},ze={class:"animation-list"};Object(o["G"])();var Xe=Re((function(t,e,n,a,c,r){var i=Object(o["O"])("el-button"),l=Object(o["O"])("el-tag"),u=Object(o["O"])("el-tab-pane"),s=Object(o["O"])("el-tabs"),h=Object(o["O"])("el-drawer");return Object(o["F"])(),Object(o["k"])(o["b"],null,[Object(o["o"])("div",Ue,[Object(o["o"])(i,{onClick:r.handleShowAnimatePanel},{default:Re((function(){return[Ge]})),_:1},8,["onClick"]),Object(o["o"])(i,{onClick:r.previewAnimate},{default:Re((function(){return[Te]})),_:1},8,["onClick"]),Object(o["o"])("div",Ye,[(Object(o["F"])(!0),Object(o["k"])(o["b"],null,Object(o["M"])(t.curComponent.animations,(function(t,e){return Object(o["F"])(),Object(o["k"])(l,{key:t.value,closable:"",onClose:function(t){return r.removeAnimation(e)}},{default:Re((function(){return[Object(o["n"])(Object(o["S"])(t.label),1)]})),_:2},1032,["onClose"])})),128))])]),Object(o["o"])(h,{size:400,withHeader:!1,modelValue:c.showAnimatePanel,"onUpdate:modelValue":e[2]||(e[2]=function(t){return c.showAnimatePanel=t}),direction:"ltr"},{default:Re((function(){return[Object(o["o"])(s,{modelValue:c.animationActiveName,"onUpdate:modelValue":e[1]||(e[1]=function(t){return c.animationActiveName=t}),type:"card"},{default:Re((function(){return[(Object(o["F"])(!0),Object(o["k"])(o["b"],null,Object(o["M"])(c.animationClassData,(function(t){return Object(o["F"])(),Object(o["k"])(u,{key:t.label,label:t.label,name:t.label},{default:Re((function(){return[Object(o["o"])("div",ze,[(Object(o["F"])(!0),Object(o["k"])(o["b"],null,Object(o["M"])(t.children,(function(t){return Object(o["F"])(),Object(o["k"])("div",{class:"animate",key:t.value,onMouseover:function(e){return r.handleMouseover(t.value)},onClick:function(e){return r.addAnimation(t)}},[Object(o["o"])("div",{class:["animate__animated",[c.hoverPreviewAnimate===t.value&&"animate__".concat(t.value)]]},Object(o["S"])(t.label),3)],40,["onMouseover","onClick"])})),128))])]})),_:2},1032,["label","name"])})),128))]})),_:1},8,["modelValue"])]})),_:1},8,["modelValue"])],64)})),Be=[{label:"进入",children:[{label:"渐显",value:"fadeIn"},{label:"向右进入",value:"fadeInLeft"},{label:"向左进入",value:"fadeInRight"},{label:"向上进入",value:"fadeInUp"},{label:"向下进入",value:"fadeInDown"},{label:"向右长距进入",value:"fadeInLeftBig"},{label:"向左长距进入",value:"fadeInRightBig"},{label:"向上长距进入",value:"fadeInUpBig"},{label:"向下长距进入",value:"fadeInDownBig"},{label:"旋转进入",value:"rotateIn"},{label:"左顺时针旋转",value:"rotateInDownLeft"},{label:"右逆时针旋转",value:"rotateInDownRight"},{label:"左逆时针旋转",value:"rotateInUpLeft"},{label:"右逆时针旋转",value:"rotateInUpRight"},{label:"弹入",value:"bounceIn"},{label:"向右弹入",value:"bounceInLeft"},{label:"向左弹入",value:"bounceInRight"},{label:"向上弹入",value:"bounceInUp"},{label:"向下弹入",value:"bounceInDown"},{label:"光速从右进入",value:"lightSpeedInRight"},{label:"光速从左进入",value:"lightSpeedInLeft"},{label:"光速从右退出",value:"lightSpeedOutRight"},{label:"光速从左退出",value:"lightSpeedOutLeft"},{label:"Y轴旋转",value:"flip"},{label:"中心X轴旋转",value:"flipInX"},{label:"中心Y轴旋转",value:"flipInY"},{label:"左长半径旋转",value:"rollIn"},{label:"由小变大进入",value:"zoomIn"},{label:"左变大进入",value:"zoomInLeft"},{label:"右变大进入",value:"zoomInRight"},{label:"向上变大进入",value:"zoomInUp"},{label:"向下变大进入",value:"zoomInDown"},{label:"向右滑动展开",value:"slideInLeft"},{label:"向左滑动展开",value:"slideInRight"},{label:"向上滑动展开",value:"slideInUp"},{label:"向下滑动展开",value:"slideInDown"}]},{label:"强调",children:[{label:"弹跳",value:"bounce"},{label:"闪烁",value:"flash"},{label:"放大缩小",value:"pulse"},{label:"放大缩小弹簧",value:"rubberBand"},{label:"左右晃动",value:"headShake"},{label:"左右扇形摇摆",value:"swing"},{label:"放大晃动缩小",value:"tada"},{label:"扇形摇摆",value:"wobble"},{label:"左右上下晃动",value:"jello"},{label:"Y轴旋转",value:"flip"}]},{label:"退出",children:[{label:"渐隐",value:"fadeOut"},{label:"向左退出",value:"fadeOutLeft"},{label:"向右退出",value:"fadeOutRight"},{label:"向上退出",value:"fadeOutUp"},{label:"向下退出",value:"fadeOutDown"},{label:"向左长距退出",value:"fadeOutLeftBig"},{label:"向右长距退出",value:"fadeOutRightBig"},{label:"向上长距退出",value:"fadeOutUpBig"},{label:"向下长距退出",value:"fadeOutDownBig"},{label:"旋转退出",value:"rotateOut"},{label:"左顺时针旋转",value:"rotateOutDownLeft"},{label:"右逆时针旋转",value:"rotateOutDownRight"},{label:"左逆时针旋转",value:"rotateOutUpLeft"},{label:"右逆时针旋转",value:"rotateOutUpRight"},{label:"弹出",value:"bounceOut"},{label:"向左弹出",value:"bounceOutLeft"},{label:"向右弹出",value:"bounceOutRight"},{label:"向上弹出",value:"bounceOutUp"},{label:"向下弹出",value:"bounceOutDown"},{label:"中心X轴旋转",value:"flipOutX"},{label:"中心Y轴旋转",value:"flipOutY"},{label:"左长半径旋转",value:"rollOut"},{label:"由小变大退出",value:"zoomOut"},{label:"左变大退出",value:"zoomOutLeft"},{label:"右变大退出",value:"zoomOutRight"},{label:"向上变大退出",value:"zoomOutUp"},{label:"向下变大退出",value:"zoomOutDown"},{label:"向左滑动收起",value:"slideOutLeft"},{label:"向右滑动收起",value:"slideOutRight"},{label:"向上滑动收起",value:"slideOutUp"},{label:"向下滑动收起",value:"slideOutDown"}]}],We={data:function(){return{showAnimatePanel:!1,animationActiveName:"进入",hoverPreviewAnimate:"",animationClassData:Be}},computed:Object(b["a"])({},Object(A["b"])("component",["curComponent"])),methods:{handleShowAnimatePanel:function(){this.showAnimatePanel=!0},handleMouseover:function(t){this.hoverPreviewAnimate=t},addAnimation:function(t){this.$store.dispatch("animation/addAnimation",t),this.showAnimatePanel=!1},removeAnimation:function(t){this.$store.dispatch("animation/removeAnimation",t)},previewAnimate:function(){bt["a"].emit("runAnimation")}},components:{}};n("6d1b");We.render=Xe,We.__scopeId="data-v-78e68ee4";var qe=We,Ke=Object(o["hb"])("data-v-e09e8c3a");Object(o["I"])("data-v-e09e8c3a");var Je={class:"event-control"},He=Object(o["n"])("添加事件"),Qe={class:"tag-wrap"},Ze={class:"event-content"},tn=Object(o["n"])("确定");Object(o["G"])();var en=Ke((function(t,e,n,a,c,r){var i=Object(o["O"])("el-button"),l=Object(o["O"])("el-tag"),u=Object(o["O"])("el-input"),s=Object(o["O"])("el-tab-pane"),h=Object(o["O"])("el-tabs"),d=Object(o["O"])("el-drawer");return Object(o["F"])(),Object(o["k"])(o["b"],null,[Object(o["o"])("div",Je,[Object(o["o"])(i,{onClick:r.handleShowEventPanel},{default:Ke((function(){return[He]})),_:1},8,["onClick"]),Object(o["o"])("div",Qe,[(Object(o["F"])(!0),Object(o["k"])(o["b"],null,Object(o["M"])(Object.keys(t.curComponent.events),(function(t){return Object(o["F"])(),Object(o["k"])(l,{key:t,closable:"",onClose:function(e){return r.removeEvent(t)}},{default:Ke((function(){return[Object(o["n"])(Object(o["S"])(t),1)]})),_:2},1032,["onClose"])})),128))])]),Object(o["o"])(d,{size:400,withHeader:!1,modelValue:c.showEventPanel,"onUpdate:modelValue":e[4]||(e[4]=function(t){return c.showEventPanel=t}),direction:"ltr"},{default:Ke((function(){return[Object(o["o"])(h,{modelValue:c.eventActiveName,"onUpdate:modelValue":e[3]||(e[3]=function(t){return c.eventActiveName=t}),type:"card"},{default:Ke((function(){return[(Object(o["F"])(!0),Object(o["k"])(o["b"],null,Object(o["M"])(c.eventList,(function(t){return Object(o["F"])(),Object(o["k"])(s,{key:t.key,label:t.label,name:t.key},{default:Ke((function(){return[Object(o["o"])("div",Ze,["redirect"==t.key?(Object(o["F"])(),Object(o["k"])(u,{key:0,onKeydown:e[1]||(e[1]=Object(o["gb"])((function(){}),["stop"])),modelValue:t.param,"onUpdate:modelValue":function(e){return t.param=e},type:"textarea",placeholder:"请输入完整的 URL"},null,8,["modelValue","onUpdate:modelValue"])):Object(o["l"])("",!0),"alert"==t.key?(Object(o["F"])(),Object(o["k"])(u,{key:1,onKeydown:e[2]||(e[2]=Object(o["gb"])((function(){}),["stop"])),modelValue:t.param,"onUpdate:modelValue":function(e){return t.param=e},type:"textarea",placeholder:"请输入要 alert 的内容"},null,8,["modelValue","onUpdate:modelValue"])):Object(o["l"])("",!0),Object(o["o"])(i,{style:{"margin-top":"20px"},onClick:function(e){return r.addEvent(t.key,t.param)}},{default:Ke((function(){return[tn]})),_:2},1032,["onClick"])])]})),_:2},1032,["label","name"])})),128))]})),_:1},8,["modelValue"])]})),_:1},8,["modelValue"])],64)})),nn={data:function(){return{showEventPanel:!1,eventActiveName:"redirect",eventList:Lt}},computed:Object(b["a"])({},Object(A["b"])("component",["curComponent"])),methods:{handleShowEventPanel:function(){this.showEventPanel=!0},addEvent:function(t,e){this.$store.dispatch("event/addEvent",{event:t,param:e}),this.showEventPanel=!1},removeEvent:function(t){this.$store.dispatch("event/removeEvent",t)}},components:{}};n("20d4");nn.render=en,nn.__scopeId="data-v-e09e8c3a";var on=nn,an={components:{Toolbar:Pt,ComponentList:Tt,Editor:_e,AttrList:De,AnimationList:qe,EventList:on},data:function(){return{activeName:"attr"}},computed:Object(b["a"])({},Object(A["b"])("component",["curComponent"])),created:function(){this.restore(),Object(Ve["c"])()},methods:{restore:function(){var t=JSON.parse(localStorage.getItem(ht));t&&this.$store.commit("component/setComponentList",this.resetID(t));var e=JSON.parse(localStorage.getItem(dt));e&&this.$store.commit("canvas/setCanvasStyle",e)},resetID:function(t){return t.forEach((function(t){t.id=Object(st["a"])()})),t}}};n("dceb");an.render=d;e["default"]=an},bb5c:function(t,e,n){"use strict";n("1ba1")},c119:function(t,e,n){"use strict";n("e24d")},c582:function(t,e,n){},dceb:function(t,e,n){"use strict";n("667c")},de70:function(t,e,n){},e14e:function(t,e,n){},e24d:function(t,e,n){},f3e4:function(t,e,n){},f4f4:function(t,e,n){},f7c3:function(t,e,n){}}]);